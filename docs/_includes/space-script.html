<script>
  (function($, _, seedsSpace) {
    var sizeTemplate = _.template($('#space-row').html());
    var $tableBody = $('[data-js="tbody"]');

    function printSizesInPx() {
      _.each(sampleElements, function(sample, index) {
          var parentRow = sample.closest('tr')
          var sampleSizeInPx = sample.getBoundingClientRect().width;
          parentRow.querySelector('.size-px').innerHTML = ' / ' + sampleSizeInPx  + 'px';
      });
    };

    _.each(seedsSpace, function(size) {
      $tableBody.append(sizeTemplate(size));
    });

    var sampleElements = $('.space-sample');
    printSizesInPx();

    $('#space-base').on('change', function() {
      $(":root")[0].style.fontSize = this.value + "px";
      printSizesInPx();
    });

    $('#space-name').on('change', function () {
      $('[data-lang="' + this.value + '"]').show().siblings().hide();
    });

  })(window.jQuery, window._, window.seedsSpace);
</script>
